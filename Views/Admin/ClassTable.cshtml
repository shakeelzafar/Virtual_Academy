@using Test_MVC.Models;
@{
    Layout = "../Shared/_Admin.cshtml";
    
}

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Data Tables
        <small>advanced tables</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#">Tables</a></li>
        <li class="active">Data tables</li>
        <li class="active">User tables</li>
        <li class="active">Chapter tables</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <div class="content-header">

        <div class="">
            <!-- ViewBag.title
            Query....get all content of that title...and from its child class as well but just
            -->
            <h3 class="">Class</h3>
        </div><!-- /.box-header -->
        <div style=" margin-right:8%">
       
            <table id="example2" class="table table-bordered table-hover">
                <thead>
                    <tr style="">
                        <th style="width: 30%; text-align: center">ClassId</th>
                        <th style="width: 30%; text-align: center">Class</th>
                        <th style="width: 30%; text-align: center">Capters</th>
                        <th style="width: 10%; text-align: center">Update</th>
                        <th style="width: 10%; text-align: center">View</th>
                        <th style="width: 10%; text-align: center">Delete </th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        db ctx = new db();
                        List<Class> listOfClass = ctx.Class.ToList();
                        List<int> listOfChapters=null;
                    foreach(var v in listOfClass)
                    {
                        listOfChapters = ctx.SubjectClass.Where(x => x.Class_Id == v.ClassId).Select(x => x.Class_Id).ToList();
                    <tr>
                        <td style="text-align: center">@v.ClassId</td>
                        <td style="text-align: center">@v.Name</td>
                        <td style="text-align: center">
                            @listOfChapters.Count()
                        </td>
                        <td class="fa fa-edit" style="margin-left: 15%; background-color: lightblue"><a href="~/Admin/UpdateClass/@v.ClassId">&nbsp;&nbsp;Edit</a></td>
                        <td class="fa fa-edit" style="margin-left: 15%; background-color: lightblue"><a href="~/Admin/Detail_Of_Class/@v.ClassId">&nbsp;&nbsp;View All</a></td>
                        <td class="fa fa-remove" id="delete" style="margin-left:15%;  background-color:lightblue; text-align:center"><a href="~/Admin/DeleteClass/@v.ClassId">&nbsp; Delete</a></td>
                    </tr>
                    }
                    }
                </tbody>
                <tfoot>
                    <tr style="">
                        <th style="width: 30%; text-align: center">ClassId</th>
                        <th style="width: 30%; text-align: center">Class</th>
                        <th style="width: 30%; text-align: center">Capters</th>
                        <th style="width: 10%; text-align: center">Update</th>
                        <th style="width: 10%; text-align: center">View</th>
                        <th style="width: 10%; text-align: center">Delete </th>
                    </tr>
                </tfoot>
            </table>
            

        </div><!-- /.col -->

    </div><!-- /.row -->
</section><!-- /.content -->




@Scripts.Render("~/bundles/jquery")
<script>

    $(document).ready(function () {

        $("#delete").click(function () {


            alert('You want to delete it?');

            
        });


    });
</script>