@using Test_MVC.Models;
@{
    Layout = "../Shared/_Admin.cshtml";

}

<!-- Content Header (Page header) -->
<section class="content-header">
    <div>
        <div>
    <label>Sort By:</label>
            </div>
    <select id="selectComment">

        <option>Classes</option>
        <option>Lectures</option>
            
        </select>
        </div>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#">Tables</a></li>
        <li class="active">Data tables</li>
        <li class="active">User tables</li>
        <li class="active">Chapter tables</li>
    </ol>
        
</section>
<!-- Main content -->
<section class="content">
    <div class="content-header">

        <div class="">
            <!-- ViewBag.title
            Query....get all content of that title...and from its child class as well but just
            -->
            <h3 class="">Class</h3>
        </div><!-- /.box-header -->
        <div style=" margin-right:8%">

            <table id="example2" class="table table-bordered table-hover">
                <thead>
                    <tr style="">
                        <th style="width: 20%; text-align: center">Comment</th>
                        <th style="width: 20%; text-align: center">No of Replies</th>
                        <th style="width: 20%; text-align: center">View</th>
                        <th style="width: 20%; text-align: center">Delete</th>
                        
                    </tr>
                </thead>
                <tbody>
                    @{
                        db ctx = new db();
                        List<Comment> listOfClass = ctx.Comment.ToList();

                        foreach (var v in listOfClass)
                        {
                            int fgs=1;
                            
                            if(v.Class==0)
                            {
                                fgs = 0; 
                            }
                            <tr class="@fgs">
                                <td style="text-align: center">@v.Comment1</td>
                                <td style="text-align: center">@v.Reply.Count()</td>                               
                                <td class="fa fa-list" style="margin-left: 15%; background-color: lightblue"> <a href="~/Admin/Replies/@v.CommentId">&nbsp;&nbsp;Detail</a></td>                                
                                <td class="fa fa-remove" id="delete" style="margin-left:15%;  background-color:lightblue; text-align:center"><a href="~/Admin/DeleteComment/@v.CommentId">&nbsp; Delete</a></td>
                            </tr>
                        }
                    }
                </tbody>
                <tfoot>
                    <tr style="">
                        <th style="width: 20%; text-align: center">Comment</th>
                        <th style="width: 20%; text-align: center">No of Replies</th>
                        <th style="width: 20%; text-align: center">View</th>
                        <th style="width: 20%; text-align: center">Delete</th>

                    </tr>
                </tfoot>
            </table>


        </div><!-- /.col -->

    </div><!-- /.row -->
</section><!-- /.content -->
@Scripts.Render("~/bundles/jquery")
<script>

    $(document).ready(function () {

        $("#selectComment").change(function () {
           
            if ($("#selectComment").val() == "Classes")
            {
                $(".0").show();
                $(".1").hide();
            }
            else {
                $(".1").show();
                $(".0").hide();
            }
        });
        
        if ($("#selectComment").val() == "Classes") {
            $(".0").show();
            $(".1").hide();
        }
        else {
            $(".1").show();
            $(".0").hide();
        }


    });
</script>